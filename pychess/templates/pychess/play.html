{% extends 'pychess\layout.html' %}


{% block title %}
Play chess!
{% endblock %}


{% block body %}
    


    <div class="centeredContent" style="align-items: start; font-size:36px;" id="main">

        <div id="links" style="display:block">
            <div style="display:flex; flex-direction: column; justify-content: center; align-items: center; margin-top:5%;">
                <div>
                    <h2>Start or Join a game</h2>
                </div>
                <div style="margin:15px;">
                    <a href="{% url 'localGame' %}">New Local Game</a>
                </div>
                <div style="margin:15px;">
                    <a href="{% url 'networkGame' %}">New Network Game</a>
                </div>
                <div style="margin:15px;">
                    <a href="#" id="join">Join Network Game</a>
                </div>
            </div>
        </div>
        
        <div id="form" style="display:none;">
            <div style="display:flex; flex-direction: column; justify-content: center; align-items: center; margin-top:5%;">
                
                <div><h2>Enter Room Code:</h2></div>
                <div>
                    <form method="POST" style="display: grid; grid-template-rows: 2em; grid-template-columns: 1fr auto;">
                        <input style="height:36px; width:200px; text-align:center; font-size:24px; font-weight: bold;" type="text" name="roomCode" maxlength="6" placeholder="ROOM CODE">
                        <input style="height:40px; margin-left:10px" type="submit" value="Join Game">
                        {% csrf_token %}
                    </form>
                </div>
                <div>
                    <button id="back" style="height:36px;">Go Back</button>
                </div>
            </div>
        </div>


    </div>


    <script>
        document.querySelector("#join").addEventListener('click', joinGame);
        document.querySelector("#back").addEventListener('click', back)
        let errorMessage = document.querySelector("#error");

        function joinGame()
        {
            document.querySelector("#links").style.display = "none";
            document.querySelector("#form").style.display = "flex";

            if(errorMessage != null)
                errorMessage.style.display = "none";
        }

        function back()
        {
            document.querySelector("#links").style.display = "block";
            document.querySelector("#form").style.display = "none"; 
        }


    </script>
{% endblock %}